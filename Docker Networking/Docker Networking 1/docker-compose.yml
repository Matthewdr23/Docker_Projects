version: '3.8'

services:
  # --- 1. Service key FIXED: Must not contain spaces ---
  ubuntu_instance_1:
    build:
      context: ./Ubuntu_Instance_1
      dockerfile: Dockerfile
    
    container_name: ubuntu_instance_1
    volumes:
      - app_logs:/var/log/app
      
    networks:
      - ubuntu_net

  # --- 2. Service key FIXED: Must not contain spaces ---
  ubuntu_instance_2:
    build:
      context: ./Ubuntu_Instance_2
      dockerfile: Dockerfile
    
    container_name: ubuntu_instance_2
    volumes:
      - app_logs:/var/log/app
      
    networks:
      - ubuntu_net

volumes:
  app_logs:

networks:
  ubuntu_net:
    driver: bridge